(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function g(){}function P(e){return e()}function C(){return Object.create(null)}function I(e){e.forEach(P)}function R(e){return typeof e=="function"}function U(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function q(e){return Object.keys(e).length===0}function z(e,t){e.appendChild(t)}function a(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function K(e){return document.createTextNode(e)}function M(){return K(" ")}function B(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function J(e){return Array.from(e.childNodes)}let j;function h(e){j=e}const y=[],T=[],w=[],F=[],Q=Promise.resolve();let x=!1;function V(){x||(x=!0,Q.then(G))}function O(e){w.push(e)}const N=new Set;let _=0;function G(){if(_!==0)return;const e=j;do{try{for(;_<y.length;){const t=y[_];_++,h(t),W(t.$$)}}catch(t){throw y.length=0,_=0,t}for(h(null),y.length=0,_=0;T.length;)T.pop()();for(let t=0;t<w.length;t+=1){const n=w[t];N.has(n)||(N.add(n),n())}w.length=0}while(y.length);for(;F.length;)F.pop()();x=!1,N.clear(),h(e)}function W(e){if(e.fragment!==null){e.update(),I(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const X=new Set;function Z(e,t){e&&e.i&&(X.delete(e),e.i(t))}function ee(e,t,n,s){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),s||O(()=>{const l=e.$$.on_mount.map(P).filter(R);e.$$.on_destroy?e.$$.on_destroy.push(...l):I(l),e.$$.on_mount=[]}),o.forEach(O)}function te(e,t){const n=e.$$;n.fragment!==null&&(I(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ne(e,t){e.$$.dirty[0]===-1&&(y.push(e),V(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function re(e,t,n,s,r,o,l,i=[-1]){const m=j;h(e);const u=e.$$={fragment:null,ctx:[],props:o,update:g,not_equal:r,bound:C(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(m?m.$$.context:[])),callbacks:C(),dirty:i,skip_bound:!1,root:t.target||m.$$.root};l&&l(u.root);let p=!1;if(u.ctx=n?n(e,t.props||{},(f,v,...S)=>{const D=S.length?S[0]:v;return u.ctx&&r(u.ctx[f],u.ctx[f]=D)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](D),p&&ne(e,f)),v}):[],u.update(),p=!0,I(u.before_update),u.fragment=s?s(u.ctx):!1,t.target){if(t.hydrate){const f=J(t.target);u.fragment&&u.fragment.l(f),f.forEach(c)}else u.fragment&&u.fragment.c();t.intro&&Z(e.$$.fragment),ee(e,t.target,t.anchor,t.customElement),G()}h(m)}class oe{$destroy(){te(this,1),this.$destroy=g}$on(t,n){if(!R(n))return g;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(t){this.$$set&&!q(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function E(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function $(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(n){return typeof n}:$=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$(e)}function A(e){E(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||$(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Y(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function k(e){E(1,arguments);var t=A(e);return t.setHours(0,0,0,0),t}var se=864e5;function le(e,t){E(2,arguments);var n=k(e),s=k(t),r=n.getTime()-Y(n),o=s.getTime()-Y(s);return Math.round((r-o)/se)}function L(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function ie(e,t){E(2,arguments);var n=A(e),s=A(t),r=L(n,s),o=Math.abs(le(n,s));n.setDate(n.getDate()-r*o);var l=Number(L(n,s)===-r),i=r*(o-l);return i===0?0:i}const H="/streak/assets/ding.c78e062e.mp3";function ue(e){let t,n,s;return{c(){t=d("h1"),t.textContent="Today's session is finished.",n=M(),s=d("p"),s.textContent="Come back tomorrow to extend your streak."},m(r,o){a(r,t,o),a(r,n,o),a(r,s,o)},p:g,d(r){r&&c(t),r&&c(n),r&&c(s)}}}function fe(e){let t,n,s,r,o;return{c(){t=d("progress"),n=M(),s=d("button"),s.textContent="Cancel",b(t,"max","1"),t.value=e[0],b(s,"class","svelte-8ljjsv")},m(l,i){a(l,t,i),a(l,n,i),a(l,s,i),r||(o=B(s,"click",e[4]),r=!0)},p(l,i){i&1&&(t.value=l[0])},d(l){l&&c(t),l&&c(n),l&&c(s),r=!1,o()}}}function ce(e){let t,n,s,r,o;return{c(){t=d("h1"),t.textContent=`Today's session will last ${e[2]}
        minute${e[2]>1?"s":""}.`,n=M(),s=d("button"),s.textContent="Begin",b(s,"class","svelte-8ljjsv")},m(l,i){a(l,t,i),a(l,n,i),a(l,s,i),r||(o=B(s,"click",e[3]),r=!0)},p:g,d(l){l&&c(t),l&&c(n),l&&c(s),r=!1,o()}}}function ae(e){let t,n;function s(l,i){if(l[1]==="READY")return ce;if(l[1]==="IN_PROGRESS")return fe;if(l[1]==="FINISHED")return ue}let r=s(e),o=r&&r(e);return{c(){t=d("main"),n=d("div"),o&&o.c(),b(n,"class","howdy svelte-8ljjsv"),b(t,"class","svelte-8ljjsv")},m(l,i){a(l,t,i),z(t,n),o&&o.m(n,null)},p(l,[i]){r===(r=s(l))&&o?o.p(l,i):(o&&o.d(1),o=r&&r(l),o&&(o.c(),o.m(n,null)))},i:g,o:g,d(l){l&&c(t),o&&o.d()}}}function de(e,t,n){let s=parseInt(localStorage.getItem("streak")||"0");const r=parseInt(localStorage.getItem("last_session_millis")||"0"),o=ie(k(new Date),k(new Date(r)));o>1&&(s=0,localStorage.setItem("streak","0"));const l=s+1,i=l*6e4;let m,u=0,p=o<1?"FINISHED":"READY",f;function v(){new Audio(H).play(),n(1,p="IN_PROGRESS"),m=Date.now(),f=setInterval(()=>{n(0,u=(Date.now()-m)/i),u>=1&&S()},100)}function S(){new Audio(H).play(),n(1,p="FINISHED"),clearInterval(f),localStorage.setItem("streak",(s+1).toString()),localStorage.setItem("last_session_millis",Date.now().toString())}function D(){n(1,p="READY"),clearInterval(f)}return[u,p,l,v,D]}class me extends oe{constructor(t){super(),re(this,t,de,ae,U,{})}}new me({target:document.getElementById("app")});
